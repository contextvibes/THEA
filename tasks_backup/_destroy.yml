# tasks/_destroy.yml
# This file defines the helper task for destroying the environment.
# It orchestrates the process by calling the guarded, interactive destroy.sh script.

version: '3'

tasks:
  destroy:
    desc: "(Helper) Runs the interactive destruction script."
    internal: true
    silent: true
    cmds:
      # We pass the project IDs from the Taskfile's environment directly to the
      # script. This ensures the script always knows which projects to target.
      - ./scripts/destroy.sh {{.COMPUTE_PROJECT_ID}} {{.STORAGE_PROJECT_ID}} {{.ASSETS_PROJECT_ID}}